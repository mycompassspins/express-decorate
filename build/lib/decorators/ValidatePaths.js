"use strict";
const util_1 = require('util');
const ErrorMessageHelper_1 = require('../helpers/ErrorMessageHelper');
exports.ROUTE_PREFIX = '$$route__';
function Destruct(args) {
    let hasPath = typeof args[0] === 'string' || (util_1.isArray(args[0]) && _validatePathsArray(args[0])), path = hasPath ? args[0] : '', middleware = hasPath ? args.slice(1) : args;
    middleware.forEach((m) => {
        if (typeof m !== 'function') {
            throw `Expected ${m} to be a function but got "${typeof m}"`;
        }
    });
    return [path, middleware];
}
exports.Destruct = Destruct;
function _validatePathsArray(paths) {
    paths.forEach((path) => {
        if (path.charAt(0) !== '/') {
            ErrorMessageHelper_1.Log(null, 'warn', null, `"${path}" is not a valid path`);
            return false;
        }
    });
    return true;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9kZWNvcmF0b3JzL1ZhbGlkYXRlUGF0aHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUlBLHVCQUF3QixNQUN4QixDQUFDLENBRDZCO0FBQzlCLHFDQUFvQiwrQkFFcEIsQ0FBQyxDQUZrRDtBQUV0QyxvQkFBWSxHQUFHLFdBQVcsQ0FBQztBQVF4QyxrQkFBeUIsSUFBVTtJQUVsQyxJQUFJLE9BQU8sR0FBVyxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxRQUFRLElBQUksQ0FBRSxjQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksbUJBQW1CLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUUsRUFDeEcsSUFBSSxHQUFVLE9BQU8sR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUNwQyxVQUFVLEdBQVksT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDO0lBRXRELFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFLO1FBRXhCLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxLQUFLLFVBQVUsQ0FBQyxDQUM1QixDQUFDO1lBQ0EsTUFBTSxZQUFZLENBQUMsOEJBQThCLE9BQU8sQ0FBQyxHQUFHLENBQUM7UUFDOUQsQ0FBQztJQUVGLENBQUMsQ0FBQyxDQUFDO0lBRUgsTUFBTSxDQUFDLENBQUMsSUFBSSxFQUFFLFVBQVUsQ0FBQyxDQUFBO0FBQzFCLENBQUM7QUFoQmUsZ0JBQVEsV0FnQnZCLENBQUE7QUFRRCw2QkFBNkIsS0FBYztJQUUxQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBVztRQUV6QixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUMzQixDQUFDO1lBQ0Esd0JBQUcsQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxJQUFJLElBQUksdUJBQXVCLENBQUMsQ0FBQztZQUN6RCxNQUFNLENBQUMsS0FBSyxDQUFDO1FBQ2QsQ0FBQztJQUNGLENBQUMsQ0FBQyxDQUFDO0lBRUgsTUFBTSxDQUFDLElBQUksQ0FBQztBQUNiLENBQUMiLCJmaWxlIjoibGliL2RlY29yYXRvcnMvVmFsaWRhdGVQYXRocy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBKdXN0aW4gb24gOC8yMS8xNi5cbiAqL1xuXG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAndXRpbCdcbmltcG9ydCB7IExvZyB9IGZyb20gJy4uL2hlbHBlcnMvRXJyb3JNZXNzYWdlSGVscGVyJ1xuXG5leHBvcnQgY29uc3QgUk9VVEVfUFJFRklYID0gJyQkcm91dGVfXyc7XG5cbi8qKlxuICogTWFrZSBzdXJlIG91ciBwYXRocyBhbmQgbWlkZGxld2FyZSBhcmUgb2YgdGhlIHJpZ2h0IHR5cGVzXG4gKiBAcGFyYW0gYXJnc1xuICogQHJldHVybnMge3N0cmluZ3xhbnlbXX1cbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBEZXN0cnVjdChhcmdzOmFueVtdKTphbnlbXVxue1xuXHRsZXQgaGFzUGF0aDpib29sZWFuID0gdHlwZW9mIGFyZ3NbMF0gPT09ICdzdHJpbmcnIHx8ICggaXNBcnJheShhcmdzWzBdKSAmJiBfdmFsaWRhdGVQYXRoc0FycmF5KGFyZ3NbMF0pICksXG5cdFx0cGF0aDpzdHJpbmcgPSBoYXNQYXRoID8gYXJnc1swXSA6ICcnLFxuXHRcdG1pZGRsZXdhcmU6c3RyaW5nW10gPSBoYXNQYXRoID8gYXJncy5zbGljZSgxKSA6IGFyZ3M7XG5cblx0bWlkZGxld2FyZS5mb3JFYWNoKChtOmFueSkgPT5cblx0e1xuXHRcdGlmICh0eXBlb2YgbSAhPT0gJ2Z1bmN0aW9uJylcblx0XHR7XG5cdFx0XHR0aHJvdyBgRXhwZWN0ZWQgJHttfSB0byBiZSBhIGZ1bmN0aW9uIGJ1dCBnb3QgXCIke3R5cGVvZiBtfVwiYDtcblx0XHR9XG5cblx0fSk7XG5cblx0cmV0dXJuIFtwYXRoLCBtaWRkbGV3YXJlXVxufVxuXG4vKipcbiAqIElmIGFycmF5IG9mIHBhdGhzIGlzIHBhc3NlZCB0byBAUm91dGUoKSwgbWFrZSBzdXJlIHRoZXkgYXJlIGFjdHVhbGx5IHBhdGhzXG4gKiBAcGFyYW0gcGF0aHNcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX3ZhbGlkYXRlUGF0aHNBcnJheShwYXRoczpzdHJpbmdbXSkgOmJvb2xlYW5cbntcblx0cGF0aHMuZm9yRWFjaCgocGF0aDpzdHJpbmcpID0+XG5cdHtcblx0XHRpZiAocGF0aC5jaGFyQXQoMCkgIT09ICcvJylcblx0XHR7XG5cdFx0XHRMb2cobnVsbCwgJ3dhcm4nLCBudWxsLCBgXCIke3BhdGh9XCIgaXMgbm90IGEgdmFsaWQgcGF0aGApO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fSk7XG5cblx0cmV0dXJuIHRydWU7XG59XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
