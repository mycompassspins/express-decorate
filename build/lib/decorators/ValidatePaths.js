"use strict";
const util_1 = require('util');
exports.ROUTE_PREFIX = '$$route__';
function Destruct(args) {
    let hasPath = typeof args[0] === 'string' || (util_1.isArray(args[0]) && _validatePathsArray(args[0])), path = hasPath ? args[0] : '', middleware = hasPath ? args.slice(1) : args;
    if (middleware.some(m => typeof m !== 'function'))
        throw new Error('Middleware must be function');
    return [path, middleware];
}
exports.Destruct = Destruct;
function _validatePathsArray(paths) {
    paths.forEach((path) => {
        if (path.charAt(0) !== '/') {
            console.warn(`"${path}" is not a valid path`);
            return false;
        }
    });
    return true;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9kZWNvcmF0b3JzL1ZhbGlkYXRlUGF0aHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUlBLHVCQUF3QixNQUV4QixDQUFDLENBRjZCO0FBRWpCLG9CQUFZLEdBQUcsV0FBVyxDQUFDO0FBUXhDLGtCQUF5QixJQUFVO0lBRWxDLElBQUksT0FBTyxHQUFXLE9BQU8sSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLFFBQVEsSUFBSSxDQUFFLGNBQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBRSxFQUN4RyxJQUFJLEdBQVUsT0FBTyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQ3BDLFVBQVUsR0FBWSxPQUFPLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUM7SUFFdEQsRUFBRSxDQUFDLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksT0FBTyxDQUFDLEtBQUssVUFBVSxDQUFDLENBQUM7UUFDakQsTUFBTSxJQUFJLEtBQUssQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDO0lBRWhELE1BQU0sQ0FBQyxDQUFDLElBQUksRUFBRSxVQUFVLENBQUMsQ0FBQTtBQUMxQixDQUFDO0FBVmUsZ0JBQVEsV0FVdkIsQ0FBQTtBQVFELDZCQUE2QixLQUFjO0lBRTFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFXO1FBRXpCLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQzNCLENBQUM7WUFDQSxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSx1QkFBdUIsQ0FBQyxDQUFDO1lBQzlDLE1BQU0sQ0FBQyxLQUFLLENBQUM7UUFDZCxDQUFDO0lBQ0YsQ0FBQyxDQUFDLENBQUM7SUFFSCxNQUFNLENBQUMsSUFBSSxDQUFDO0FBQ2IsQ0FBQyIsImZpbGUiOiJsaWIvZGVjb3JhdG9ycy9WYWxpZGF0ZVBhdGhzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IEp1c3RpbiBvbiA4LzIxLzE2LlxuICovXG5cbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICd1dGlsJ1xuXG5leHBvcnQgY29uc3QgUk9VVEVfUFJFRklYID0gJyQkcm91dGVfXyc7XG5cbi8qKlxuICogTWFrZSBzdXJlIG91ciBwYXRocyBhbmQgbWlkZGxld2FyZSBhcmUgb2YgdGhlIHJpZ2h0IHR5cGVzXG4gKiBAcGFyYW0gYXJnc1xuICogQHJldHVybnMge3N0cmluZ3xhbnlbXX1cbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBEZXN0cnVjdChhcmdzOmFueVtdKTphbnlbXVxue1xuXHRsZXQgaGFzUGF0aDpib29sZWFuID0gdHlwZW9mIGFyZ3NbMF0gPT09ICdzdHJpbmcnIHx8ICggaXNBcnJheShhcmdzWzBdKSAmJiBfdmFsaWRhdGVQYXRoc0FycmF5KGFyZ3NbMF0pICksXG5cdFx0cGF0aDpzdHJpbmcgPSBoYXNQYXRoID8gYXJnc1swXSA6ICcnLFxuXHRcdG1pZGRsZXdhcmU6c3RyaW5nW10gPSBoYXNQYXRoID8gYXJncy5zbGljZSgxKSA6IGFyZ3M7XG5cblx0aWYgKG1pZGRsZXdhcmUuc29tZShtID0+IHR5cGVvZiBtICE9PSAnZnVuY3Rpb24nKSlcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ01pZGRsZXdhcmUgbXVzdCBiZSBmdW5jdGlvbicpO1xuXG5cdHJldHVybiBbcGF0aCwgbWlkZGxld2FyZV1cbn1cblxuLyoqXG4gKiBJZiBhcnJheSBvZiBwYXRocyBpcyBwYXNzZWQgdG8gQFJvdXRlKCksIG1ha2Ugc3VyZSB0aGV5IGFyZSBhY3R1YWxseSBwYXRoc1xuICogQHBhcmFtIHBhdGhzXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF92YWxpZGF0ZVBhdGhzQXJyYXkocGF0aHM6c3RyaW5nW10pIDpib29sZWFuXG57XG5cdHBhdGhzLmZvckVhY2goKHBhdGg6c3RyaW5nKSA9PlxuXHR7XG5cdFx0aWYgKHBhdGguY2hhckF0KDApICE9PSAnLycpXG5cdFx0e1xuXHRcdFx0Y29uc29sZS53YXJuKGBcIiR7cGF0aH1cIiBpcyBub3QgYSB2YWxpZCBwYXRoYCk7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9KTtcblxuXHRyZXR1cm4gdHJ1ZTtcbn1cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
